## 1️⃣ 메모리 관리의 개요

> **메모리 관리의 복잡성**

- 과거 일괄처리 시스템에서는 한 번에 한 가지 작업만 처리했기 때문에 메모리 관리가 어렵지 않았으나, 현재의 시분할 시스템에서는 운영체제를 포함한 모든 응용 프로그램이 메모리에 올라와 실행되기 때문에 메모리 관리가 복잡함
- 따라서 복잡한 메모리 관리는 운영체제의 **메모리 관리 시스템(**Memory Management System, MMS)이 담당하여 **프로그램을 메모리에 올림**

> **컴파일러**

- 소스코드르르 컴퓨터가 실행할 수 있는 기계어로 번역한 후 한꺼번에 실행할 수 있도록 해주는 번역 프로그램

> **메모리 관리자의 역할**

- **가져오기(fetch)**
  프로세스와 데이터를 메모리로 가져오는 작업
- **배치(placement)**
  가져온 프로세스와 데이터를 메모리의 어느 부분에 올려놓을지 결정하는 작업
- **재배치(replacement)**
  꽉 차있는 메모리에 새로운 프로세스를 가져오기 위해 오래된 프로세스를 내보내는 작업

> **메모리 관리 정책**

- **가져오기 정책(fetch policy)**
  프로세스가 필요로 하는 데이터를 언제 메모리로 가져올지 결정하는 정책
- **배치 정책(placement policy)**
  가져온 프로세스를 메모리의 어떤 위치에 올려놓을지 결정하는 정책
- **재배치 정책(replace policy)**
  메모리가 꽉 찼을 때 메모리 내에 있는 어떤 프로세스를 내보낼지 결정하는 정책

<br/>

## 2️⃣ 메모리 주소

> **32bit CPU vs 64bit CPU**

- 32bit CPU와 64bit CPU 둘 다 메모리가 설치되며 각각의 메모리 공간을 소유함
- **bit** : 한번에 다룰 수 있는 데이터의 최대 크기로 cpu 내부 부품은 모두 bit를 기준으로 제작됨
- **물리 주소 공간** : 하드웨어에서 바라본 주소 공간으로 컴퓨터 마다 그 크기가 다름
- **논리 주소 공간** : 사용자 입장에서 바라본 주소 공간

> **절대 주소와 상대 주소**

- **절대 주소** : 실제 물리 주소를 가리키며 메모리 관리자 입장에서 바라본 주소
- **상대 주소** : 사용자 영역이 시작되는 주소를 0번지로 변경하여 사용하는 주소

<br/>

## 3️⃣ 단일 프로그래밍 환경에서의 메모리 할당

> **메모리 오버레이(Overlay)**

- 프로세스의실제 크기가 실제 메모리(물리 메모리)보다 클 때 전체 프로세스를 메모리에 가져오는 대신 적당한 크기로 잘라서 가져오는 기법

> **스왑(Swap)**

- 메모리가 모자라서 쫓겨난 프로세스를 저장장치의 특별한 공간, 즉 스왑 영역에 모아두는 기법
- **스왑 영역(swap area)** : 쫓겨난 프로세스를 모아두는 저장장치의 특별한 공간
- **스왑 인(swap in)** : 스왑 영역에서 메모리로 데이터를 가져오는 작업
- **스왑 아웃(swap out)** : 메모리에서 스왑 영역으로 데이터를 내보내는 작업

<br/>

## 4️⃣ 다중 프로그래밍 환경에서의 메모리 할당

> **가변 분할 방식(세그먼테이션 기법)**

- 프로세스 크기에 따라 메모리를 나누는 방식으로 메모리의 영역이 각각 다름
- 한 프로세스가 연속된 공간에 배치되는 연속 메모리 할당
- 프로세스 크기 < 분할 크기 → 내부조각 발생하지 않지만 외부조각 발생 → 외부 단편화
- 메모리 관리가 복잡
- **외부 단편화를 해결하기 위한 메모리 배치 방식**
  **최초 배치** : 메모리에서 적재 가능한 공간을 순서대로 찾다가 첫 버너째로 발견한 공간에 프로세스를 배치하는 기법
  **최적 배치** : 메모리의 빈 공간을 모두 확인한 후 적당한 크기 가운데 가장 작은 공간에 프로세스를 배치하는 기법
  **최악 배치** : 최적 배치와 정반대로 빈 공간을 모두 확인한 후 가장 큰 공간에 프로세스를 배치하는 기법

> **고정 분할 방식(페이징 기법)**

- 프로세스 크기와 상관없이 메모리를 같은크기로 나누는 방식
- 한 프로세스가 분산되어 배치되는 비연속 메모리 할당
- **내부 단편화** : 메모리 조각에 프로세스를 배치하고 공간이 남는 현상

> **정리**

| 구분        | 가변 분할 방식                   | 고정 분할 방식             |
| ----------- | -------------------------------- | -------------------------- |
| 메모리 단위 | 세그먼테이션                     | 페이징                     |
| 특징        | 연속 메모리 할당                 | 비연속 메모리 할당         |
| 장점        | 프로세스를 한 덩어리로 관리 가능 | 메모리 관리가 편리         |
| 단점        | 빈 공간의 관리가 어려움          | 프로세스가 분할되어 처리됨 |
| 단편화      | 외부 단편화                      | 내부 단편화                |

> **버디 시스템**

- 가변 분할 방식과 고정 분할 방식의 중간형태로 메모리를 할당하여 외부 단편화를 완화
