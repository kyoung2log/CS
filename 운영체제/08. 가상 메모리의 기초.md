## 1️⃣ 가상 메모리의 개요

> **가상 메모리 시스템**

- **가상 메모리(Virtual memory)**
  물리 메모리의 크기와 상관없이 프로세스에 커다란 메모리 공간을 제공하는 기술. 프로세스는 운영체제의 위치나 물리 메모리의 크기를 신경쓰지 않고 메모리를 사용할수 있음
- **가상메모리와 물리메모리**
  | 구분 | 가상 메모리 | 물리 메모리 |
  | ---------------- | ---------------------------- | -------------------- |
  | 최대 메모리 크기 | CPU의 비트 값에 의존 | CPU의 비트 값에 의존 |
  | 메모리 분할 방식 | 세그먼테이션 | 가변 분할 방식 |
  | 메모리 분할 방식 | 페이징 | 고정 분할 방식 |
  | 메모리 분할 방식 | 세그먼테이션-페이징 혼용기법 | |
  | 주소 지정 방식 | 가상 주소 | 절대 주소, 상대 주소 |
- **매핑 테이블(mapping table)**
  가상 주소가 물리 메모리의 어느 위치에 있는지 알 수 있도록 정리한 표

<br/>

## 2️⃣ 페이징 기법

> **페이징 기법**

고정 분할 방식을 이용한 가상 메모리 관리 기법. 물리 주소 공간을 같은 크기로 나누어서 사용

- **페이지** : 가상 주소의 분할된 각 영역
- **프레임** : 물리 주소의 분할된 각 영역
- **페이지 테이블** : 모든 페이지의 위치 정보가 담겨있는 매핑 테이블
- **페이징 기법 주소 변환** : VA = <P, D> → PA = <F, D>

> **페이지 테이블 매핑 방식**

- 프로세스는 각각의 페이지 테이블을 가지는데, 이는 물리 메모리 영역의 운영체제 영역 모아둠. 전체 테이블의 크기는 프로세스 수에 비례하며 크기가 작지 않아 관리가 어려움. 따라서 페이지 테이블의 크기를 적정하게 유지하는 것이 페이지 테이블 관리의 핵심
- **직접 매핑** : 페이지 테이블 전체가 물리 메모리의 운영체제 영역에 존재하는 방식
- **연관 매핑** : 페이지 테이블 전체를 스왑 영역에서 관리하는 방식으로 물리 메모리가 작을때 사용
- **집합-연관 매핑** : 연관 매핑의 문제를 개선한 방식으로, 페이지 테이블을 일정한 집합으로 자르고 자른 덩어리 단위로 물리 메모리에 가져오는 방식
- **역매핑** : 위의 세 가지 매핑과 달리 물리 메모리의 프레임 번호를 기준으로 테이블을 구성

<br/>

## 3️⃣ 세그먼테이션 기법

> **세그먼테이션 기법**

- 가변 분할 방식을 이용한 가상 메모리 관리 기법. 물리 메모리를 프로세스의 크기에 따라 가변적으로 나누어서 사용
- **세그먼테이션 매핑 테이블** : 모든 세그먼트의 위치 정보가 담겨있는 매핑 테이블
- **limit** : 세그먼트의 크기
- **address** : 물리 메모리상 시작 주소
- **세그먼테이션 기법 주소 변환** : VA = <S, D> → PA = <F, D>

<br/>

## 4️⃣ 세그먼테이션 - 페이징 혼용 기법

> **메모리 접근 권한**

- 메모리 접근 권한에는 읽기, 쓰기, 실행, 추가 권한이 있고 가상 주소에서 물리 주소로 주소 변환이 일어날 때마다 메모리 권한 검사 시행
- 트랩 : 읽기만 가능한 메모리 영역에 쓰기를 하면 메모리 오류 인터럽트 발생

> **세그먼테이션-페이징 혼용 기법**

- 사용자 입장에서는 세그먼테이션 기법을 사용하고 메모리 관리자 입장에서는 페이징 기법을 사용하는 가상 메모리 관리 기법
- 메모리 보호 및 중복 정보를 세그먼테이션 테이블에서 관리 함으로써 메모리 관리에 효율적
